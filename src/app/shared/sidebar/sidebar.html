<div
  class="sidebar d-flex flex-column"
  [ngClass]="{'collapsed-sidebar': !sidebarOpen}"
  [ngStyle]="{'min-width': sidebarOpen ? '250px' : 'auto'}"
>
  <div class="sidebar-header">
    <a routerLink="/home" class="text-white text-decoration-none d-flex align-items-center">
      <img src="assets/ifclass.png" alt="Logo" class="sidebar-logo img-fluid">
      <h5 class="sidebar-title mb-0" *ngIf="sidebarOpen">Class</h5>
    </a>
    <button class="sidebar-toggle-btn" (click)="toggleSidebar()">
      <i class="bi" [ngClass]="sidebarOpen ? 'bi-chevron-left' : 'bi-list'"></i>
    </button>
  </div>

  <div class="d-flex flex-column gap-2 flex-grow-1">
    <div *ngIf="sidebarOpen" class="sidebar-menu-category">ALUNO</div>

    <a routerLink="/aulas"
       class="sidebar-nav-link"
       [ngClass]="{'justify-content-center': !sidebarOpen}">
      <i class="bi bi-calendar-week"></i>
      <span *ngIf="sidebarOpen">Aulas do dia</span>
    </a>

    <a routerLink="/salas"
       class="sidebar-nav-link"
       [ngClass]="{'justify-content-center': !sidebarOpen}">
      <i class="bi bi-door-open"></i>
      <span *ngIf="sidebarOpen">Salas</span>
    </a>

    <a routerLink="/cursos"
       class="sidebar-nav-link"
       [ngClass]="{'justify-content-center': !sidebarOpen}">
      <i class="bi bi-mortarboard-fill"></i>
      <span *ngIf="sidebarOpen">Cursos</span>
    </a>

    <a routerLink="/turmas"
       class="sidebar-nav-link"
       [ngClass]="{'justify-content-center': !sidebarOpen}">
      <i class="bi bi-people"></i>
      <span *ngIf="sidebarOpen">Turmas</span>
    </a>

    <a routerLink="/disciplinas"
       class="sidebar-nav-link"
       [ngClass]="{'justify-content-center': !sidebarOpen}">
      <i class="bi bi-journal-bookmark"></i>
      <span *ngIf="sidebarOpen">Disciplinas</span>
    </a>

    <ng-container *ngIf="isProfessor || isCoordenador || isAdmin">
      <div *ngIf="sidebarOpen" class="sidebar-menu-category">PROFESSOR</div>

      <a routerLink="/aulas/criar"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-plus-square"></i>
        <span *ngIf="sidebarOpen">Criar aula</span>
      </a>
    </ng-container>

    <ng-container *ngIf="isCoordenador || isAdmin">
      <div *ngIf="sidebarOpen" class="sidebar-menu-category">COORDENADOR</div>

      <a routerLink="/relacionar-sala"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-link"></i>
        <span *ngIf="sidebarOpen">Relacionar sala/disciplina</span>
      </a>

      <a routerLink="/relacionar-turma"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-link"></i>
        <span *ngIf="sidebarOpen">Relacionar turma/curso</span>
      </a>

      <a routerLink="/permissoes"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-person-gear"></i>
        <span *ngIf="sidebarOpen">Gerenciar permissões</span>
      </a>
    </ng-container>

    <ng-container *ngIf="isAdmin">
      <div *ngIf="sidebarOpen" class="sidebar-menu-category">ADMINISTRADOR</div>

      <a routerLink="/usuarios"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-people-fill"></i>
        <span *ngIf="sidebarOpen">Gerenciar usuários</span>
      </a>

      <a routerLink="/configuracoes"
         class="sidebar-nav-link"
         [ngClass]="{'justify-content-center': !sidebarOpen}">
        <i class="bi bi-gear"></i>
        <span *ngIf="sidebarOpen">Configurações</span>
      </a>
    </ng-container>
  </div>

  <div class="mt-auto pt-3">
    <button (click)="logout()" class="sidebar-logout-btn w-100 d-flex align-items-center"
            [ngClass]="{'justify-content-center': !sidebarOpen, 'gap-2': sidebarOpen}">
      <i class="bi bi-box-arrow-right"></i>
      <span *ngIf="sidebarOpen">Sair</span>
    </button>
  </div>
</div>