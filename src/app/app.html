<app-loader [show]="(loaderVisible$ | async) ?? false"></app-loader>

<ng-container *ngIf="showMainLayout">
  <div class="app-layout admin-layout">
    <app-sidebar
      [isProfessor]="isProfessor"
      [isCoordenador]="isCoordenador"
      [isAdmin]="isAdmin"
      [isMobile]="isMobile"
      [sidebarCollapsed]="sidebarCollapsed"
      (logoutClicked)="logout()"
      (sidebarToggled)="toggleSidebar()">
    </app-sidebar>

    <!-- Overlay para mobile quando sidebar estÃ¡ aberta -->
    <div
      class="sidebar-overlay"
      [class.active]="!sidebarCollapsed && isMobile"
      (click)="closeSidebar()">
    </div>

    <main class="main-content" [class.sidebar-collapsed]="sidebarCollapsed">
      <router-outlet></router-outlet>
    </main>
  </div>
</ng-container>

<ng-container *ngIf="!showMainLayout">
  <router-outlet></router-outlet>
</ng-container>